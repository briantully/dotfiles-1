#!/usr/bin/env bash

# NAME
#     .bash_prompt - Sets the bash prompt and terminal title.
#
# SYNOPSIS
#     . ~/.bash_prompt
#
# DESCRIPTION
#     .bash_prompt sets the bash prompt (PS1) and terminal title (minimized and
#     maximized).

LIGHT_GRAY='\033[0;37m'
YELLOW='\033[0;33m'
NO_COLOR="\e[0m"

# @see https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh
GIT_PS1_SHOWCOLORHINTS=true
GIT_PS1_SHOWDIRTYSTATE=true
GIT_PS1_SHOWUNTRACKEDFILES=true
GIT_PS1_SHOWUPSTREAM=auto
GIT_PS1_SHOWSTASHSTATE=true

export PROMPT_COMMAND='\
# PS1:
__git_ps1 "${YELLOW}$(pwd)${NO_COLOR}" "$(__drush_ps1 " [%s]")
${LIGHT_GRAY}\T${NO_COLOR} \u@\h: \\\$ "
# Xterm title maximized:
echo -ne "\033]0;${PWD##*/}$(__git_ps1)$(__drush_ps1 " [%s]")\007";\
# Xterm title minimized:
echo -ne "\033]1;${PWD##*/}\007"'
